{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["action","Subject","start","pipe","filter","a","stop","secObserv","interval","map","sec","retryWhen","errors","tap","console","log","minObserv","min","hourObserv","hour","counterStop","concat","of","repeatWhen","React","takeUntil","memo","useState","seconds","incSecond","minutes","incMinutes","hours","incHours","useEffect","subscribe","className","onClick","next","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kTAKMA,EAAS,IAAIC,IACbC,EAAQF,EAAOG,KAAKC,aAAO,SAAAC,GAAC,MAAU,UAANA,MAChCC,EAAON,EAAOG,KAAKC,aAAO,SAAAC,GAAC,MAAU,SAANA,MAI/BE,EAAYC,YAAS,KAAKL,KAC9BM,aAAI,SAAAC,GACF,GAAIA,EAAM,GACR,MAAMA,EAER,OAAOA,EAAM,KAEfC,aAAU,SAAAC,GAAM,OACdA,EAAOT,KACLU,aAAI,SAAAH,GAAG,OAAII,QAAQC,IAAR,uBAKXC,EAAYR,YAAS,MAAOL,KAChCU,aAAI,SAAAI,GAAG,OAAEH,QAAQC,IAAIE,MACrBR,aAAI,SAAAQ,GACF,GAAIA,EAAM,GACR,MAAMA,EAER,OAAOA,EAAM,KAEfN,aAAU,SAAAC,GAAM,OACdA,EAAOT,KACLU,aAAI,SAAAI,GAAG,OAAIH,QAAQC,IAAR,qBAKXG,EAAaV,YAAS,MAAQL,KAClCM,aAAI,SAAAU,GACF,GAAIA,EAAO,GACT,MAAMA,EAER,OAAOA,EAAO,KAEhBR,aAAU,SAAAC,GAAM,OACdA,EAAOT,KACLU,aAAI,SAAAI,GAAG,OAAIH,QAAQC,IAAR,qBAOXK,EAAcC,YAAOd,EAAWe,YAAG,IAAInB,KAC3CoB,aAAW,kBAAMrB,MAOJsB,GALIH,YAAOD,EAAYjB,KACpCsB,YAAUnB,IAAQgB,YAAG,IAIRE,IAAME,MAAK,WAIxB,MAA6BF,IAAMG,SAAS,GAA5C,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BL,IAAMG,SAAS,GAA7C,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAA0BP,IAAMG,SAAS,GAAzC,mBAAOK,EAAP,KAAcC,EAAd,KAUA,OARAT,IAAMU,WAAU,WAGd3B,EAAU4B,UAAUN,GACpBb,EAAUmB,UAAUJ,GACpBb,EAAWiB,UAAUF,KACpB,IAGD,sBAAKG,UAAU,UAAf,UACE,sBAAKA,UAAU,QAAf,UACE,oCAAOJ,EAAP,SACA,sCACA,oCAAOF,EAAP,SACA,sCACA,oCAAOF,EAAP,YAGF,sBAAKQ,UAAU,UAAf,UACE,wBAAQC,QAAS,kBAAMrC,EAAOsC,KAAK,UAAnC,oBACA,wBAAQD,QAAS,kBAAMrC,EAAOsC,KAAK,SAAnC,4BChFOC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.757d4712.chunk.js","sourcesContent":["import React from 'react'\nimport { concat, interval, Observable, Subject, of, timer } from 'rxjs';\nimport { startWith, scan, takeWhile, repeatWhen, filter, takeUntil, map, retryWhen, tap, delayWhen } from 'rxjs/operators';\nimport './App.css'\n\nconst action = new Subject(); // actions\nconst start = action.pipe(filter(a => a === 'start'));\nconst stop = action.pipe(filter(a => a === 'stop'));\n\nlet sec, min, hour = 1\n\nconst secObserv = interval(200).pipe( // counts till one minute\n  map(sec => {\n    if (sec > 59) {\n      throw sec;\n    }\n    return sec + 1;\n  }),\n  retryWhen(errors =>\n    errors.pipe(\n      tap(sec => console.log(`one minute!`)),\n    )\n  )\n);\n\nconst minObserv = interval(12000).pipe( // counts till one hour\n  tap(min=>console.log(min)),\n  map(min => {\n    if (min > 59) {\n      throw min;\n    }\n    return min + 1;\n  }),\n  retryWhen(errors =>\n    errors.pipe(\n      tap(min => console.log(`one hour!`)),\n    )\n  )\n);\n\nconst hourObserv = interval(720000).pipe( // counts till 24 hours\n  map(hour => {\n    if (hour > 59) {\n      throw hour;\n    }\n    return hour + 1;\n  }),\n  retryWhen(errors =>\n    errors.pipe(\n      tap(min => console.log(`24 hours!`)),\n    )\n  )\n);\n\n\n\nconst counterStop = concat(secObserv, of(0)).pipe(\n  repeatWhen(() => start)\n)\nconst observable = concat(counterStop.pipe(\n  takeUntil(stop)), of(0)\n)\n\n\nexport default React.memo(function App() {\n\n\n\n  const [seconds, incSecond] = React.useState(0);\n  const [minutes, incMinutes] = React.useState(0);\n  const [hours, incHours] = React.useState(0);\n\n  React.useEffect(() => {\n    /* const sub = observable.subscribe(incSecond);\n    return () => sub.unsubscribe(); */\n    secObserv.subscribe(incSecond);\n    minObserv.subscribe(incMinutes);\n    hourObserv.subscribe(incHours);\n  }, [])\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"clock\">\n        <div> {hours} h </div>\n        <div> : </div>\n        <div> {minutes} m </div>\n        <div> : </div>\n        <div> {seconds} s </div>\n      </div>\n\n      <div className=\"buttons\">\n        <button onClick={() => action.next('start')}> START</button>\n        <button onClick={() => action.next('stop')}>STOP</button>\n      </div>\n\n    </div>\n  );\n})\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}